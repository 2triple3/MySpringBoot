<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.springboot.user.dao.UserDAO" >

    <resultMap id="findUserResultMap" type="com.springboot.common.entity.user.UserEntity">
        <result property="userid" column="userid"/>
        <result property="username" column="username"/>
        
    </resultMap>



    <select id="findUserInfoByUserid" resultMap="findUserResultMap">
      SELECT
         tb_user.userid as userid,
         tb_user.username as username

      FROM
        db_springboot.tb_user as tb_user

      <where>
          <if test="userid != null and userid != ''">
              AND tb_user.userid like CONCAT(#{userid},'%')
          </if>
          <if test="userid == null or userid == ''">
              AND tb_user.userid like '%'
          </if>
      </where>
    </select>

    <insert id="addUser">
        INSERT INTO db_springboot.tb_user
        (userid, username)
        VALUES
        (#{userEntitypp.userid},#{userEntitypp.username})
    </insert>

</mapper>